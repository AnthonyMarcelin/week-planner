import{r as x,j as e,H as v}from"./app-ysLP_Gev.js";import{S}from"./SecondaryButton-Dco5hVyn.js";import{t as b,a as N}from"./constants-CSCIf03m.js";function M({profileName:g,activities:p}){const[m,D]=x.useState(!0),[u,y]=x.useState(0),[l,f]=x.useState(0),i=m?4:0,w=Array.from({length:24-i},(s,a)=>a+i),j=["Lundi","Mardi","Mercredi","Jeudi","Vendredi","Samedi","Dimanche"],d=x.useMemo(()=>{const s=new Date,a=s.getDay(),r=a===0?-6:1-a,n=new Date(s);n.setDate(s.getDate()+r);const t=new Date(n);t.setDate(n.getDate()+l*7);const o=new Date(t);o.setDate(t.getDate()+6);const h=c=>c.toLocaleDateString("fr-FR",{day:"numeric",month:"long"});return{start:h(t),end:h(o),mondayObject:t,todayString:new Date().toLocaleDateString("fr-FR")}},[l]);return e.jsxs("div",{className:"min-h-screen bg-slate-50/50",children:[e.jsx(v,{title:`Planning de ${g}`}),e.jsx("header",{className:"bg-white shadow",children:e.jsx("div",{className:"max-w-7xl mx-auto py-6 px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-4",children:[e.jsxs("h2",{className:"text-xl font-bold text-slate-800 tracking-tight",children:["Planning : ",g]}),e.jsxs("div",{className:"flex items-center bg-white rounded-xl shadow-sm border border-slate-200 p-1",children:[e.jsx("button",{onClick:()=>f(s=>Math.max(0,s-1)),disabled:l===0,className:"p-2 hover:bg-slate-50 disabled:opacity-30 rounded-lg transition text-slate-600",children:"â¬…ï¸"}),e.jsxs("span",{className:"px-2 sm:px-4 text-xs sm:text-sm font-bold text-slate-700 w-[180px] sm:w-[220px] text-center truncate",children:[d.start," - ",d.end]}),e.jsx("button",{onClick:()=>f(s=>Math.min(3,s+1)),disabled:l===3,className:"p-2 hover:bg-slate-50 disabled:opacity-30 rounded-lg transition text-slate-600",children:"âž¡ï¸"})]}),e.jsx("div",{className:"flex gap-2 w-full sm:w-auto justify-end",children:e.jsx(S,{onClick:()=>D(!m),className:"text-xs",children:m?"ðŸ‘ï¸ 00h+":"ðŸŒ™ Cacher"})})]})})}),e.jsx("main",{className:"py-6 sm:py-12",children:e.jsxs("div",{className:"mx-auto max-w-7xl sm:px-6 lg:px-8",children:[e.jsx("div",{className:"md:hidden flex overflow-x-auto pb-4 gap-2 px-4 scrollbar-hide",children:j.map((s,a)=>{const r=new Date(d.mondayObject);r.setDate(r.getDate()+a);const n=r.toLocaleDateString("fr-FR")===d.todayString;return e.jsxs("button",{onClick:()=>y(a),className:`px-4 py-2 rounded-full text-sm font-bold whitespace-nowrap transition-all shadow-sm border flex flex-col items-center ${u===a?"bg-indigo-600 text-white border-indigo-600":n?"bg-white text-indigo-600 border-indigo-200 ring-2 ring-indigo-100":"bg-white text-slate-500 border-slate-200"}`,children:[e.jsx("span",{children:s.slice(0,3)}),e.jsx("span",{className:"text-[10px] font-normal",children:r.getDate()})]},s)})}),e.jsxs("div",{className:"flex bg-white shadow-xl shadow-slate-200/60 sm:rounded-2xl overflow-hidden border border-slate-200",children:[e.jsx("div",{className:"w-14 sm:w-20 bg-slate-50/50 border-r border-slate-200 pt-[48px] flex-shrink-0",children:w.map(s=>e.jsxs("div",{className:"h-[40px] text-[10px] sm:text-xs text-slate-400 text-center border-b border-slate-100 font-medium flex items-center justify-center",children:[s.toString().padStart(2,"0"),":00"]},s))}),e.jsx("div",{className:"flex-1 grid grid-cols-1 md:grid-cols-7 overflow-hidden md:min-w-[840px] md:overflow-x-auto",children:j.map((s,a)=>{const r=new Date(d.mondayObject);r.setDate(r.getDate()+a);const n=r.toLocaleDateString("fr-FR")===d.todayString;return e.jsxs("div",{className:`relative border-r border-slate-100 last:border-r-0 ${u===a?"block":"hidden md:block"}`,children:[e.jsxs("div",{className:`h-[48px] border-b border-slate-200 flex flex-col items-center justify-center font-bold text-[10px] uppercase tracking-widest transition-colors ${n?"bg-indigo-600 text-white shadow-inner":"bg-slate-50/30 text-slate-600"}`,children:[e.jsx("span",{children:s}),e.jsxs("span",{className:`text-[9px] ${n?"text-indigo-100":"text-slate-400"}`,children:[r.getDate()," ",r.toLocaleDateString("fr-FR",{month:"short"}).toUpperCase()]})]}),e.jsxs("div",{className:"relative",children:[w.map(t=>e.jsx("div",{className:"h-[40px] border-b border-slate-50"},t)),p&&p.filter(t=>Number(t.day_of_week)===a&&b(t.start_time)>=i&&Number(t.week_index)===l).map(t=>{const o=b(t.start_time),c=b(t.end_time)-o;return e.jsxs("div",{className:`absolute left-1 right-1 rounded-md p-2 text-[10px] leading-tight overflow-hidden shadow-sm border-l-4 z-10 ${t.type==="pro"?"bg-indigo-50 text-indigo-700 border-indigo-500":"bg-emerald-50 text-emerald-700 border-emerald-500"}`,style:{top:`${(o-i)*N}px`,height:`${c*N}px`},children:[e.jsx("div",{className:"font-bold truncate",children:t.label}),e.jsxs("div",{className:"opacity-80 font-medium",children:[t.start_time.slice(0,5)," ",c>=1&&`- ${t.end_time.slice(0,5)}`]})]},t.id)})]})]},s)})})]})]})})]})}export{M as default};
